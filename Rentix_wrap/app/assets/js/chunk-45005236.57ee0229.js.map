{"version":3,"sources":["webpack:///./src/components/Repairs/details.vue?7756","webpack:///./src/components/Repairs/RepairsCurrent.vue?ed60","webpack:///./src/components/Repairs/bikeList.vue?7c4d","webpack:///src/components/Repairs/bikeList.vue","webpack:///./src/components/Repairs/bikeList.vue?7d0d","webpack:///./src/components/Repairs/bikeList.vue","webpack:///src/components/Repairs/RepairsCurrent.vue","webpack:///./src/components/Repairs/RepairsCurrent.vue?ad0c","webpack:///./src/components/Repairs/RepairsCurrent.vue","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./src/components/Repairs/bikeList.vue?a784","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./src/components/Repairs/details.vue?34a4","webpack:///./src/functions/shortDate.js","webpack:///src/components/Repairs/details.vue","webpack:///./src/components/Repairs/details.vue?3cfe","webpack:///./src/components/Repairs/details.vue","webpack:///./src/components/Repairs/RepairsCurrent.vue?60ad"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_details_vue_vue_type_style_index_0_id_374cda11_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_details_vue_vue_type_style_index_0_id_374cda11_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","currentRepairs","length","on","click","$event","newRepair","_m","_l","filter","filt","item","key","id_rent","changeRepair","product_name","repair_type_name","cost_comp","cost_work","_f","note","start_time","show","attrs","_repair","repair","close","_e","select","addBikeToNewRepair","staticRenderFns","colspan","bikeListvue_type_template_id_1aa509a2_scoped_true_render","placeholder","input","search","products","name","staticStyle","text-align","mileage","last_repair_time","bikeListvue_type_template_id_1aa509a2_scoped_true_staticRenderFns","bikeListvue_type_script_lang_js_","data","i","methods","text","event","target","value","product","toUpperCase","indexOf","$emit","computed","_this","getLastRepair","product_id","repairs","Object","copy","$store","getters","end_time","lastRepair","reduce","acc","Date","parse","notDeleted","status","map","filters","round","Math","shortDate","date","time","Repairs_bikeListvue_type_script_lang_js_","component","componentNormalizer","bikeList","RepairsCurrentvue_type_script_lang_js_","components","Details","details","BikeList","isNew","repair_type","isPlan","getProductName","find","getRepairTypeName","repairType","repairTypes","formNote","substr","Repairs_RepairsCurrentvue_type_script_lang_js_","RepairsCurrent_component","__webpack_exports__","flags","f","RegExp","prototype","configurable","get","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_bikeList_vue_vue_type_style_index_0_id_1aa509a2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_bikeList_vue_vue_type_style_index_0_id_1aa509a2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","anObject","$flags","DESCRIPTORS","TO_STRING","$toString","define","fn","call","source","R","concat","undefined","short","directives","rawName","expression","change","$$selectedVal","Array","options","o","selected","val","_value","$set","multiple","disabled","domProps","composing","save","stop","title","fullDate","mod","toString","objectDate","isNaN","console","log","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","detailsvue_type_script_lang_js_","props","isReady","dispatch","alert","startMin","types","planTypes","is_plan","simpleTypes","sorted","sort","a","b","Repairs_detailsvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RepairsCurrent_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RepairsCurrent_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"assets/js/chunk-45005236.57ee0229.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./details.vue?vue&type=style&index=0&id=374cda11&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./details.vue?vue&type=style&index=0&id=374cda11&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"repairs\"},[_c('div',{staticClass:\"table__wrap\"},[_c('div',{staticClass:\"caption-wrap\"},[_c('h2',{staticClass:\"repairs__caption\"},[_vm._v(\"В ремонте\")]),_c('small',[_vm._v(\" \"+_vm._s(_vm.currentRepairs.length)+\" шт\")]),_c('button',{on:{\"click\":function($event){return _vm.newRepair()}}},[_vm._v(\"Добавить в ремонт\")])]),_c('table',{staticClass:\"repairs__table\"},[_vm._m(0),_vm._l((_vm.currentRepairs.filter(_vm.filt)),function(item){return _c('tr',{key:item.id_rent,on:{\"click\":function($event){return _vm.changeRepair(item)}}},[_vm._m(1,true),_c('td',{staticClass:\"repairs__td col--name\"},[_vm._v(_vm._s(item.product_name))]),_c('td',{staticClass:\"repairs__td\"},[_vm._v(_vm._s(item.repair_type_name))]),_c('td',{staticClass:\"repairs__td\"},[_vm._v(_vm._s(item.cost_comp))]),_c('td',{staticClass:\"repairs__td\"},[_vm._v(_vm._s(item.cost_work))]),_c('td',{staticClass:\"repairs__td col--note\"},[_vm._v(_vm._s(_vm._f(\"formNote\")(item.note)))]),_c('td',{staticClass:\"repairs__td col--start\"},[_vm._v(_vm._s(_vm._f(\"shortDate\")(item.start_time)))])])})],2)]),(_vm.show === 'details')?_c('Details',{attrs:{\"_repair\":_vm.repair},on:{\"close\":function($event){_vm.show = 'repairs'}}}):_vm._e(),(_vm.show === 'bikeList')?_c('BikeList',{on:{\"close\":function($event){_vm.show = 'repairs'},\"select\":function($event){return _vm.addBikeToNewRepair($event)}}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th'),_c('th',[_vm._v(\"Название\")]),_c('th',[_vm._v(\"Тип\")]),_c('th',{attrs:{\"colspan\":\"2\"}},[_c('small',[_vm._v(\"Стоимости \"),_c('br'),_vm._v(\"компл. и работы\")])]),_c('th',[_vm._v(\"Примечание\")]),_c('th',[_vm._v(\"Начало\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',{staticClass:\"repairs__td col--sign\"},[_c('span',{staticClass:\"sign sign--act\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"canvas\"},[_c('div',{staticClass:\"details bikelist\"},[_vm._m(0),_c('input',{attrs:{\"placeholder\":\"Начните вводить название\"},on:{\"input\":function($event){return _vm.search()}}}),(_vm.products && _vm.products.length > 0)?_c('table',{staticClass:\"bikelist__table\"},[_vm._m(1),_vm._l((_vm.products.filter(_vm.filt)),function(item){return _c('tr',{key:item.id_rent,on:{\"click\":function($event){return _vm.select(item)}}},[_c('td',[_vm._v(_vm._s(item.name))]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(_vm._s(_vm._f(\"round\")(item.mileage))+\" ч.\")]),_c('td',[_vm._v(_vm._s(_vm._f(\"shortDate\")(item.last_repair_time)))])])})],2):_vm._e(),_c('div',{staticClass:\"details__close\",on:{\"click\":function($event){return _vm.close()}}})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bikelist__caption\"},[_c('h3',[_c('span',[_vm._v(\"Добавить в ремонт\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',[_vm._v(\"Название\")]),_c('th',[_vm._v(\"Пробег\")]),_c('th',[_vm._v(\"Дата последнего ремонта\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"canvas\">\n        <div class=\"details bikelist\">\n            <div class=\"bikelist__caption\">\n                <h3>\n                    <span>Добавить в ремонт</span>\n                </h3>\n            </div>\n\n            <input placeholder=\"Начните вводить название\" @input=\"search()\">\n\n            <table class=\"bikelist__table\" v-if=\"products && products.length > 0\">\n                <tr>\n                    <th>Название</th>\n                    <th>Пробег</th>\n                    <th>Дата последнего ремонта</th>\n                </tr>\n                <tr v-for=\"item in products.filter(filt)\" :key=\"item.id_rent\" @click=\"select(item)\">\n                    <td>{{ item.name }}</td>\n                    <td style=\"text-align: right\">{{ item.mileage | round }} ч.</td>\n                    <td>{{ item.last_repair_time | shortDate }}</td>\n                </tr>\n            </table>\n            \n            <div class=\"details__close\" @click=\"close()\"></div>\n        </div>  \n    </div>\n</template>\n<script>\n    import * as Time from '@/functions/time';\n    import copy from '@/functions/copy';\n    export default {\n        data() {\n            return {\n                filt: i => i,\n            }\n        },\n        methods: {\n            search() {\n                const text = event.target.value;\n\n                this.filt = product => {\n                    const name = product ? product.name : '';\n                    return name.toUpperCase().indexOf(text.toUpperCase()) >= 0;\n                };\n            },\n            close() {\n                this.$emit('close');\n            },\n            select(item) {                \n                this.$emit('select', item);\n            },\n        },\n        computed: {\n            // выводит список продуктов с учетом их последнего ремонта\n            products() {                \n                const getLastRepair = (product_id) => {\n                    const repairs = copy(this.$store.getters.repairs);\n                    const filter = repairs.filter(i => i.product_id == product_id && i.end_time);\n\n                    const lastRepair = filter.reduce((acc, repair) => {\n                        if (acc === null) {\n                            acc = repair;\n                        }\n\n                        // Выбираем ремонт с наибольшим эндтайиом\n                        if (Date.parse(repair.end_time) > Date.parse(acc.end_time)) {\n                            acc = repair;\n                        }\n\n                        return acc;\n                    }, null);\n\n                    return lastRepair;\n                };\n\n                const products = copy(this.$store.getters.products);\n                const notDeleted = products.filter(i => i.status !== 'deleted');\n\n                return notDeleted.map(i => {\n                    const lastRepair = getLastRepair(i.id_rent);\n                    i.last_repair_time = lastRepair ? lastRepair.end_time : '';\n                    return i;\n                });\n            }\n        },\n        filters: {\n            round(mileage) {\n                return mileage ? Math.round(mileage) : 0;\n            },\n            shortDate(date) {\n                // return date;\n                return Time.format('DD MMMM YYYY', date);\n            },\n        }\n    }\n</script>\n<style scoped>\n    .details {\n        display: flex;\n        flex-direction: column;\n        width: 570px;\n        margin-top: 30px;\n        overflow-y: hidden;\n        margin-bottom: 100px;\n    }\n    .bikelist__caption {\n        display: inline-flex;\n    }\n    .caption__clarification {\n        font-size: 12px;\n        padding: 5px 10px;\n        margin-left: 10px;\n        cursor: pointer;\n    }\n    .caption__clarification--select {\n        outline: 1px solid lightgray;\n    }\n\n    .bikelist__table {\n        margin-top: 30px;\n    }\n    .details td {\n        padding: 5px 20px;\n    }\n    .details tr:first-child th {\n        padding-bottom: 20px;\n    }\n    .details tr:not(:first-child):hover {\n        cursor: pointer;\n    }\n\n    .sign--fix {\n        display: block;\n        width: 4px;\n        height: 4px;\n        border: 1px solid red;\n        border-radius: 50%;\n    }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bikeList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bikeList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./bikeList.vue?vue&type=template&id=1aa509a2&scoped=true&\"\nimport script from \"./bikeList.vue?vue&type=script&lang=js&\"\nexport * from \"./bikeList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bikeList.vue?vue&type=style&index=0&id=1aa509a2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1aa509a2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"repairs\">\n        <div class=\"table__wrap\">\n            <div class=\"caption-wrap\">\n                <h2 class=\"repairs__caption\">В ремонте</h2>\n                <small> {{ currentRepairs.length }} шт</small>\n                <button @click=\"newRepair()\">Добавить в ремонт</button>            \n            </div>\n            <table class=\"repairs__table\">\n                <tr>\n                    <th></th>\n                    <th>Название</th>\n                    <th>Тип</th>\n                    <th colspan=\"2\"><small>Стоимости <br>компл. и работы</small></th>\n                    <th>Примечание</th>\n                    <th>Начало</th>\n                </tr>\n                <tr v-for=\"item in currentRepairs.filter(filt)\" @click=\"changeRepair(item)\" :key=\"item.id_rent\">\n                    <td class=\"repairs__td col--sign\"><span class=\"sign sign--act\"></span></td>\n                    <td class=\"repairs__td col--name\">{{ item.product_name }}</td>\n                    <td class=\"repairs__td\">{{ item.repair_type_name }}</td>\n                    <td class=\"repairs__td\">{{ item.cost_comp }}</td>\n                    <td class=\"repairs__td\">{{ item.cost_work }}</td>\n                    <td class=\"repairs__td col--note\">{{ item.note | formNote }}</td>\n                    <td class=\"repairs__td col--start\">{{ item.start_time | shortDate }}</td>                \n                </tr>\n            </table>\n        </div>\n\n        <Details v-if=\"show === 'details'\" :_repair=\"repair\" @close=\"show = 'repairs'\"></Details>\n        <BikeList v-if=\"show === 'bikeList'\" @close=\"show = 'repairs'\" @select=\"addBikeToNewRepair($event)\"></BikeList>\n    </div>\n</template>\n<script>\n    import copy from '@/functions/copy';\n    import * as Time from '@/functions/time';\n    import Details from './details';\n    import BikeList from './bikeList';\n\n    export default {\n        components: {\n            Details,\n            BikeList\n        },\n        data() {\n            return {\n                filt: i => i,\n                repair: {},\n                show: 'repairs', // repairs || details || bikeList\n            }\n        },\n        methods: {\n            changeRepair(repair) {\n                this.repair = repair;\n                this.repair.isNew = true;\n                this.show = 'details';\n            },\n            newRepair() {\n                this.repair = {\n                    cost_work: 0,\n                    cost_comp: 0,\n                    start_time: new Date(),\n                    repair_type: null\n                };\n\n                this.repair.isNew = true;\n                this.repair.isPlan = false;\n                this.show = 'bikeList';\n            },\n            addBikeToNewRepair(item) {\n                this.repair.product_id = item.id_rent;\n                this.repair.product_name = item.name;\n                this.show = 'details';\n            },\n\n            // Методы вспомогательные для свойства currentRepairs\n            getProductName(product_id) {\n                const product = this.$store.getters.products.find(i => i.id_rent === product_id);\n                return product ? product.name : '';\n            },\n            getRepairTypeName(id_rent) {\n                const repairType = this.$store.getters.repairTypes.find(i => i.id_rent === id_rent);\n                return repairType ? repairType.name : '';\n            },\n        },\n        computed: {\n            currentRepairs() {\n                const repairs = this.$store.getters.repairs;\n                const filter = copy(repairs.filter(i => !i.end_time));\n                return filter.map(i => {\n                    i.product_name = this.getProductName(i.product_id);\n                    i.repair_type_name = this.getRepairTypeName(i.repair_type);\n                    i.mileage = this.$store.getters.products.find(product => product.id_rent === i.product_id).mileage;\n                    return i;\n                });\n            },\n        },\n        filters: {\n            // Округление проката\n            round(mileage) {\n                return mileage ? Math.round(mileage) : 0;\n            },\n            shortDate(date) {\n                return Time.format('DD.MM.YY', date);\n            },\n            formNote(note) {\n                return note && note.length > 20 ? note.substr(0, 19) + '...' : note;\n            },\n        }\n    }\n</script>\n<style lang=\"scss\" >\n    @import './style.scss';\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RepairsCurrent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RepairsCurrent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RepairsCurrent.vue?vue&type=template&id=07a145cf&\"\nimport script from \"./RepairsCurrent.vue?vue&type=script&lang=js&\"\nexport * from \"./RepairsCurrent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RepairsCurrent.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bikeList.vue?vue&type=style&index=0&id=1aa509a2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./bikeList.vue?vue&type=style&index=0&id=1aa509a2&scoped=true&lang=css&\"","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"canvas\"},[_c('div',{staticClass:\"details details--repair\"},[_c('h3',[(_vm.repair.isNew)?_c('span',[_vm._v(\"Новый ремонт\")]):_vm._e(),(!_vm.repair.isNew)?_c('span',[_vm._v(\"Детальная информация\")]):_vm._e()]),_c('table',[_c('tr',[_c('td',[_vm._v(\"Товар\")]),_c('td',[_vm._v(_vm._s(_vm.repair.product_name))])]),_c('tr',[_c('td',[_vm._v(\"Начало ремонта\")]),_c('td',[_c('span',[_vm._v(_vm._s(_vm.short(_vm.repair.start_time)))])])]),(_vm.repair.end_time)?_c('tr',[_c('td',[_vm._v(\"Конец ремонта\")]),_c('td',[(_vm.repair.end_time)?_c('span',[_vm._v(_vm._s(_vm.short(_vm.repair.end_time)))]):_vm._e()])]):_vm._e(),_c('tr',[_vm._m(0),_c('td',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.repair.repair_type),expression:\"repair.repair_type\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.repair, \"repair_type\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"null\",\"disabled\":\"\"}},[_vm._v(\"Выбрать\")]),_vm._l((_vm.planTypes),function(item){return _c('option',{key:item.id_rent,domProps:{\"value\":item.id_rent}},[_vm._v(_vm._s(item.name))])}),_c('option',{attrs:{\"value\":\"null\",\"disabled\":\"\"}},[_vm._v(\"__________________________\")]),_vm._l((_vm.simpleTypes),function(item){return _c('option',{key:item.id_rent,domProps:{\"value\":item.id_rent}},[_vm._v(_vm._s(item.name))])})],2)])]),_c('tr',[_c('td',[_vm._v(\"Стоимость комплектующих\")]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.repair.cost_comp),expression:\"repair.cost_comp\"}],domProps:{\"value\":(_vm.repair.cost_comp)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.repair, \"cost_comp\", $event.target.value)}}})])]),_c('tr',[_c('td',[_vm._v(\"Стоимость работы\")]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.repair.cost_work),expression:\"repair.cost_work\"}],domProps:{\"value\":(_vm.repair.cost_work)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.repair, \"cost_work\", $event.target.value)}}})])]),_c('tr',[_c('td',[_vm._v(\"Примечание\")]),_c('td',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.repair.note),expression:\"repair.note\"}],domProps:{\"value\":(_vm.repair.note)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.repair, \"note\", $event.target.value)}}})])])]),_c('div',{staticClass:\"btn-group\"},[_c('button',{on:{\"click\":_vm.save}},[_vm._v(\"Сохранить\")]),_c('button',{on:{\"click\":_vm.close}},[_vm._v(\"Отмена\")]),(_vm.repair.isNew)?_c('button',{on:{\"click\":_vm.stop}},[_vm._v(\"Завершить ремонт\")]):_vm._e()]),_c('div',{staticClass:\"details__close\",on:{\"click\":_vm.close}})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_vm._v(\"Тип ремонта \"),_c('span',{attrs:{\"title\":\"Обязательно к заполнению\"}},[_vm._v(\"*\")])])}]\n\nexport { render, staticRenderFns }","export default (fullDate /*str*/, mod) => {\n    // Если передан пустой параметр, генерируется дата от сегодняшнего дня\n    if (!fullDate) {\n        fullDate = new Date().toString();\n    }\n\n    const objectDate = new Date(fullDate)\n\n    if (isNaN(objectDate)) {\n        console.log('date.js, makeDate', 'error to parse date', { fullDate })\n        return undefined\n    }\n\n    const year = objectDate.getFullYear();\n    const month = +objectDate.getMonth() + 1 <= 9 ? `0${+objectDate.getMonth() + 1}` : `${+objectDate.getMonth() + 1}`;\n    const day = +objectDate.getDate() <= 9 ? `0${+objectDate.getDate()}` : objectDate.getDate();\n    const hours = +objectDate.getHours() <= 9 ? `0${+objectDate.getHours()}` : objectDate.getHours();\n    const minutes = +objectDate.getMinutes() <= 9 ? `0${+objectDate.getMinutes()}` : objectDate.getMinutes();\n\n    if (!year || !month || !day) {\n        console.log('date.js, makeDate', 'error to parse date', { year, month, day });\n        return undefined;\n    }\n\n    if (mod && (!hours || !minutes)) {\n        console.log('date.js, makeDate', 'error to parse hourse', { mod, hours });\n        return undefined;\n    }\n\n    return mod ? `${year}-${month}-${day} ${hours}:${minutes}` :`${year}-${month}-${day}`;\n};","<template>\n    <div class=\"canvas\">\n        <div class=\"details details--repair\">\n            <h3>\n                <span v-if=\"repair.isNew\">Новый ремонт</span>\n                <span v-if=\"!repair.isNew\">Детальная информация</span>\n            </h3>            \n            <table>\n                <tr>\n                    <td>Товар</td>\n                    <td>{{ repair.product_name }}</td>\n                </tr>\n                <tr>\n                    <td>Начало ремонта</td>\n                    <td>\n                        <span>{{ short(repair.start_time) }}</span>\n                    </td>\n                </tr>\n                <tr v-if=\"repair.end_time\">\n                    <td>Конец ремонта</td>\n                    <td>\n                        <span v-if=\"repair.end_time\">{{ short(repair.end_time) }}</span>\n                    </td>\n                </tr>\n                <tr>\n                    <td>Тип ремонта <span title=\"Обязательно к заполнению\">*</span></td>\n                    <td>\n                        <select v-model=\"repair.repair_type\">\n                            <option value=\"null\" disabled>Выбрать</option>\n                            <option v-for=\"item in planTypes\" :value=\"item.id_rent\" :key=\"item.id_rent\">{{ item.name }}</option>\n                            <option value=\"null\" disabled>__________________________</option>\n                            <option v-for=\"item in simpleTypes\" :value=\"item.id_rent\" :key=\"item.id_rent\">{{ item.name }}</option>\n                        </select>\n                    </td>\n                </tr>\n                <tr>\n                    <td>Стоимость комплектующих</td>\n                    <td>\n                        <input v-model=\"repair.cost_comp\">\n                    </td>\n                </tr>\n                <tr>\n                    <td>Стоимость работы</td>\n                    <td>\n                        <input v-model=\"repair.cost_work\">\n                    </td>\n                </tr>\n                <tr>\n                    <td>Примечание</td>\n                    <td>\n                        <textarea v-model=\"repair.note\"></textarea>\n                    </td>\n                </tr>\n            </table>\n\n            <div class=\"btn-group\">\n                <button @click=\"save\">Сохранить</button>\n                <button @click=\"close\">Отмена</button>\n                <button v-if=\"repair.isNew\" @click=\"stop\">Завершить ремонт</button>      \n            </div>\n            <div class=\"details__close\" @click=\"close\"></div>\n        </div>\n    </div>\n</template>\n<script>\n    import copy from '@/functions/copy';\n    import shortDate from '@/functions/shortDate';\n    import * as Time from '@/functions/time';\n\n    export default {\n        props: {\n            _repair: Object, // Repair\n        },\n        data() {\n            return {\n                repair: copy(this._repair),\n            }\n        },\n        methods: {\n            close() {\n                this.$emit('close');\n            },\n            save() {\n                if (this.isReady()) {\n                    this.$store.dispatch('setRepair', this.repair);\n                    this.$emit('close');\n                } else {\n                    alert('Укажите необходимые данные!');\n                }\n            },\n            stop() {\n                this.repair.end_time = new Date();\n                this.$store.dispatch('stopRepair', this.repair);\n                this.$emit('close');\n            },\n            short(date) {\n                return Time.format('DD MMMM YYYY', date);\n            },\n            isReady() {\n                if (!this.repair.repair_type) {\n                    return false;\n                }\n                if (this.repair.repair_type === 'other' && !this.repair.note) {\n                    return false;\n                }\n                return true;\n            }\n        },\n        computed: {\n            startMin() {\n                return shortDate();\n            },\n            repairTypes() {\n                const types = this.$store.getters.repairTypes;\n                return types;\n            },\n            planTypes() {\n                return this.repairTypes ? this.repairTypes.filter(i => i.is_plan === '1') : [];\n            },\n            simpleTypes() {\n                const repairTypes = this.repairTypes ? this.repairTypes.filter(i => i.is_plan === '0') : [];\n                const sorted = repairTypes.sort((a, b) => b.id_rent - a.id_rent);\n                \n                return sorted;\n            },\n        }\n    }\n</script>\n<style lang=\"scss\" scoped>\n    .details {\n/*        display: flex;\n        flex-direction: column;\n        align-items: stretch;*/\n        width: 400px;\n        margin-top: 30px;\n        margin-bottom: 100px;\n        overflow-y: hidden;\n\n        td {\n            padding: 5px;\n        }\n\n        & input,\n        & textarea,\n        & select {\n            width: 100%;\n            box-sizing: border-box;\n        }\n\n        .btn-group {\n            display: flex;\n            justify-content: center;\n            margin-top: 20px;\n        }\n    }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./details.vue?vue&type=template&id=374cda11&scoped=true&\"\nimport script from \"./details.vue?vue&type=script&lang=js&\"\nexport * from \"./details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./details.vue?vue&type=style&index=0&id=374cda11&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"374cda11\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RepairsCurrent.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RepairsCurrent.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}